% O arquivo main irá conter todas as especificações do documento.
% Essas especificações serão passadas automaticamente para os módulos introduzidos.

\documentclass[
	% -- opções da classe memoir --
	14pt,				% Tamanho da fonte
	openany,			% Capítulos começam em qualquer página (diferente de openright)
	oneside,			% Para impressão em única folha. Oposto a twoside
    a4paper,			% Tamanho do papel.
    % -- opções da classe abntex2 --
	%chapter=TITLE,		% Títulos de capítulos convertidos em letras maiúsculas
	%section=TITLE,		% Títulos de seções convertidos em letras maiúsculas
	%subsection=TITLE,	% Títulos de subseções convertidos em letras maiúsculas
	%subsubsection=TITLE,% Títulos de sub-subseções convertidos em letras maiúsculas
	% -- opções do pacote babel --
	english,			% Idioma adicional para hifenização
	brazil,				% O último idioma é o principal do documento
    ]{abntex2}

\usepackage{lmodern}			% Usa a fonte Latin Modern
\usepackage[T1]{fontenc}		% Seleção de códigos de fonte
\usepackage[utf8]{inputenc}		% Codificação do documento (conversão automática dos acentos)
\usepackage{indentfirst}		% Indenta o primeiro parágrafo de cada seção.
\usepackage{color}				% Controle das cores
\usepackage{graphicx}			% Inclusão de gráficos
\usepackage{microtype} 			% Para melhorias de justificação

% Em geral, pacotes para tornar a aparência mais próxima da original da apostila
\usepackage{float}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
% \usepackage{mathabx} % Conflita com amsmath mas se parece mais com a apostila (não produz erro fatal no Overleaf)
\usepackage[LGRgreek]{mathastext}
\usepackage{multicol}
\usepackage[ampersand]{easylist}
\usepackage{scrextend}
\usepackage{bm}
\usepackage{array}
\usepackage{upgreek}
\usepackage{titlesec}
\usepackage{parskip}
\usepackage{enumitem}
\usepackage{etoolbox}
% \usepackage[linguistics]{forest} % Seria utilizado para os diagramas do capítulo 5


% Espaçamento para os ambientes personalizados
\newlength\thmsep
\setlength\thmsep{3.5em}

\newlength\thmsepComent
\setlength\thmsepComent{3.5em}

% Criação de ambientes personalizados
\newtheoremstyle{fixedwidthindented}
  {\topsep}
  {\topsep}
  {\normalfont}
  {0pt}
  {\bfseries\sffamily}
  {}
  {0em}
  {\llap{\makebox[\thmsep][l]{%
    \thmname{#1}~\thmnumber{#2}\if\relax\detokenize{#3}\relax\fi}}%
    \thmnote{~{\normalfont(#3).}}}

\makeatletter
\patchcmd{\@thm}{\trivlist}{\list{}{\leftmargin=\thmsep}}{}{}
\patchcmd{\@endtheorem}{\endtrivlist}{\endlist}{}{}
\makeatother

\newtheoremstyle{fixedwidthindentedComent}
  {\topsep}
  {\topsep}
  {\normalfont}
  {0pt}
  {\bfseries\sffamily}
  {}
  {3.5em}
  {\llap{\makebox[\thmsepComent][l]{%
    \thmname{#1}~\thmnumber{#2}\if\relax\detokenize{#3}\relax\fi}}%
    \thmnote{~{\normalfont(#3).}}}

\theoremstyle{fixedwidthindented}
\newtheorem{thm}{Thm}[section]
\newtheorem*{defi}{Def.:}
\newtheorem*{obs}{Obs.:}
\theoremstyle{fixedwidthindentedComent}
\newtheorem*{coment}{Comentário:}


\theoremstyle{definition} % Tira itálico do texto do exemplo
\newtheorem{exemplo}{Exemplo} % Precisa reiniciar os contadores a cada seção

% Altera estilo do título do capítulo (não sei se fica bom)
\titleformat{\chapter}
  {\normalfont\Large\bfseries}
  {\thechapter:}
  {.5em}
  {\MakeUppercase}
  [\vspace{.5ex}\titlerule]

% Cria comando para repetir um caractere n vezes
\newcommand\myrepeat[2]{% <- Este % impede que o espaço em branco seguinte seja utilizado no comando
  \begingroup
  \lccode`m=`#2\relax
  \lowercase\expandafter{\romannumeral#1000}%
  \endgroup
}

\newenvironment{tightcenter}{%
  \setlength\topsep{0pt}
  \setlength\parskip{0pt}
  \begin{center}
}{%
  \end{center}
}
\renewcommand{\baselinestretch}{1.5}

% Tamanho do recuo e do parágrafo e espaçamento entre eles, respectivamente
\setlength\parindent{2cm}
% \setlength{\parskip}{10pt}

% Tamanho da separação das colunas e linhas em tabelas (pacote array)
\setlength{\tabcolsep}{12pt}
\setlength\extrarowheight{12pt}

% Reduz o espaçamento entre texto e equações matemáticas
\newcommand{\zerodisplayskips}{%
  \setlength{\abovedisplayskip}{0pt}%
  \setlength{\belowdisplayskip}{0pt}%
  \setlength{\abovedisplayshortskip}{0pt}%
  \setlength{\belowdisplayshortskip}{0pt}}
\appto{\normalsize}{\zerodisplayskips}
\appto{\small}{\zerodisplayskips}
\appto{\footnotesize}{\zerodisplayskips}

% Fim do preâmbulo
\begin{document}

% Estilo das páginas do documento (não sei por que deve ficar após o preâmbulo)
\makepagestyle{memoir}
\makeevenfoot{memoir}{}{}{\thepage}
\makeoddfoot{memoir}{}{}{\thepage}
\pagestyle{plain}
\thispagestyle{plain}

% \input para adicionar os módulos dos capítulos
\input{capitulo1-Apostila-Logica.tex}
\input{capitulo2-Apostila-Logica.tex}
\input{capitulo3-Apostila-Logica.tex}
\input{capitulo4-Apostila-Logica.tex}
\input{capitulo5-Apostila-Logica.tex}
\input{capitulo6-Apostila-Logica.tex}

\end{document}
